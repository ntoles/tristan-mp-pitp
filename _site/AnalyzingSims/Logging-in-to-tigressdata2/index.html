<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Logging into TigressData2 - Tristan-MP Documentation</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Logging into TigressData2 | Tristan-MP Documentation</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Logging into TigressData2" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A wiki of Machine learning and Statistics resources useful for self-learning." /> <meta property="og:description" content="A wiki of Machine learning and Statistics resources useful for self-learning." /> <link rel="canonical" href="http://localhost:4000/AnalyzingSims/Logging-in-to-tigressdata2/" /> <meta property="og:url" content="http://localhost:4000/AnalyzingSims/Logging-in-to-tigressdata2/" /> <meta property="og:site_name" content="Tristan-MP Documentation" /> <script type="application/ld+json"> {"headline":"Logging into TigressData2","description":"A wiki of Machine learning and Statistics resources useful for self-learning.","@type":"WebPage","url":"http://localhost:4000/AnalyzingSims/Logging-in-to-tigressdata2/","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Tristan-MP Documentation </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/README/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/GettingStarted/outline/" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/GettingStarted/Logging-in-to-perseus/" class="nav-list-link">Logging into Perseus</a></li><li class="nav-list-item "><a href="http://localhost:4000/GettingStarted/Downloading-and-Compiling-Tristan/" class="nav-list-link">Compiling Tristan-MP</a></li><li class="nav-list-item "><a href="http://localhost:4000/GettingStarted/Running-your-first-Tristan-MP-simulation/" class="nav-list-link">Running Tristan-MP</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/AnalyzingSims/outline/" class="nav-list-link">Analyzing Simulations</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/AnalyzingSims/Logging-in-to-tigressdata2/" class="nav-list-link active">Logging into TigressData2</a></li><li class="nav-list-item "><a href="http://localhost:4000/AnalyzingSims/Writing-your-own-python-scripts/" class="nav-list-link">Writing a python analysis script</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/Example%20Simulations/outline/" class="nav-list-link">Example Simulations</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/Example%20Simulations/Sample-Weibel-run/" class="nav-list-link">Weibel Simulation</a></li><li class="nav-list-item "><a href="http://localhost:4000/Example%20Simulations/Sample-shock-run/" class="nav-list-link">Shock Simulation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/outline/" class="nav-list-link">Tristan-MP Features and Code Structure</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/Code-Features/" class="nav-list-link">Code Features</a></li><li class="nav-list-item "><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/Input-Files/" class="nav-list-link">Input Files</a></li><li class="nav-list-item "><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/User-Files/" class="nav-list-link">User Files</a></li><li class="nav-list-item "><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/Compilation/" class="nav-list-link">Compiling Tristan</a></li><li class="nav-list-item "><a href="http://localhost:4000/Tristan-MP%20Features%20And%20Code%20Structure/Running/" class="nav-list-link">Running Tristan</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/User%20Manual/User-Manual/" class="nav-list-link">User Manual</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/RunningOnOtherClusters/outline/" class="nav-list-link">Running On Other HPC Clusters</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/RunningOnOtherClusters/nersc/" class="nav-list-link">Nersc Cori</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Tristan-MP Documentation" aria-label="Search Tristan-MP Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/AnalyzingSims/outline/">Analyzing Simulations</a></li> <li class="breadcrumb-nav-list-item"><span>Logging into TigressData2</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h2 id="tigressdata2"> <a href="#tigressdata2" aria-labelledby="tigressdata2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tigressdata2 </h2> <p>Tigressdata2 is a computer that has access to the files you created when running your simulations. It has a lot of RAM and is very convenient way to analyze your simulations without have to move the data anywhere. Most of the time, youâ€™ll login to tigressdata2 via VNC, a way to have a remote desktop.</p> <h2 id="starting-a-vnc-server-on-tigressdata2"> <a href="#starting-a-vnc-server-on-tigressdata2" aria-labelledby="starting-a-vnc-server-on-tigressdata2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Starting a VNC server on tigressdata2 </h2> <p>Open terminal on your local machine and login to tigressdata2</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh netID@tigressdata2.princeton.edu
</code></pre></div></div> <p>Start a vncserver on tigressdata2. The geometry flag sets the size of the vnc window.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vncserver <span class="nt">-geometry</span> 1680x1050
</code></pre></div></div> <p>The first time you start vncserver you will be prompted to create a password to access you vnc desktops. This can be anything you like. Should you choose to change it in the future simply delete the file ~/.vnc/passwd, and the next time to start a vnc session you will be prompted to recreate a password.</p> <p>You may choose to have a view-only password, where others can view your desktop, but keystrokes are disabled.</p> <p>You should get an output that looks like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Desktop 'TurboVNC: tigressdata2.princeton.edu:1 (NetID)' started on
display tigressdata2.princeton.edu:1

Creating default startup script /home/NetID/.vnc/xstartup.turbovnc
Starting applications specified in /home/NetID/.vnc/xstartup.turbovnc

Log file is /home/NetID/.vnc/tigressdata2.princeton.edu:1.log
</code></pre></div></div> <p>You will want to note the note the session number. In the above example it is :1.</p> <p>You can always check what vnc session(s) you have open with the <code class="language-plaintext highlighter-rouge">vncserver -list</code> command which gives an output like:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TurboVNC server sessions:

X DISPLAY # PROCESS ID
:1 18966
</code></pre></div></div> <h2 id="connecting-to-tigressdata2"> <a href="#connecting-to-tigressdata2" aria-labelledby="connecting-to-tigressdata2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connecting to Tigressdata2 </h2> <p>First download and install TurboVNC on your local machine: <a href="http://sourceforge.net/projects/turbovnc">turboVNC</a></p> <p>From your local machine, you will use the TurboVNC viewer to connect, but first you need to set up an ssh tunnel. This is necessary because TurboVNC is not encrypted. The session number from earlier is â€˜nâ€™ here. e.g. on a Unix machine like MacOS or Linux type</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-A</span> <span class="nt">-L</span> &lt;5900+n&gt;:localhost:&lt;5900+n&gt; &lt;user&gt;@tigressdata2.princeton.edu
</code></pre></div></div> <p>Example for the above session (:1)</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-A</span> <span class="nt">-L</span> 5901:localhost:5901 netID@tigressdata2.princeton.edu
</code></pre></div></div> <p>You may see a message or dialog box similar to this: <code class="language-plaintext highlighter-rouge">The server's host key is not cached in the registry.</code> If you do, type or click <code class="language-plaintext highlighter-rouge">yes</code>.</p> <p>Enter the password associated with your netID.</p> <p>Now on your local computer, open the TurboVNC Viewer and in the VNC server box type: <code class="language-plaintext highlighter-rouge">localhost:&lt;n&gt;</code> and click connect. For example: <code class="language-plaintext highlighter-rouge">localhost:1</code>.</p> <p>Enter the password you set up when you created your vncserver session above.</p> <p>You should now be able to see your tigressdata2 desktop.</p> <h2 id="closing-a-vnc-session"> <a href="#closing-a-vnc-session" aria-labelledby="closing-a-vnc-session" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Closing a VNC Session </h2> <p>You can close the TurboVNC viewer, reconnect at a later time, and pick up right where you left off. Just follow the procedure for connecting to a remote VNC session above.</p> <p>If the tunnel is closed, the session will end, but your desktop will still be intact on tigressdata. Just reconnect.</p> <p>When you are finished with a VNC session entirely, you should end it.</p> <p>To end a vnc session ssh to tigressdata2</p> <p>If you havenâ€™t already, load the turbovnc module</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>module load turbovnc
</code></pre></div></div> <p>Check the number of your vnc session with <code class="language-plaintext highlighter-rouge">vncserver -list</code> and note the display # of the session you want to end</p> <p>Do <code class="language-plaintext highlighter-rouge">vncserver -kill :&lt;n&gt;</code> where n is the number (with a colon).</p> <p>e.g</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vncserver <span class="nt">-kill</span> :1
</code></pre></div></div> <h2 id="enabling-tigressdata2s-gpus"> <a href="#enabling-tigressdata2s-gpus" aria-labelledby="enabling-tigressdata2s-gpus" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enabling tigressdata2â€™s GPUs </h2> <p>To take full advantage of the local graphics hardware of tigressdata2 we use VirtualGL. Note this will only work within a VNC session. The instructions here are for a terminal open on your VNC desktop.</p> <p>Check to make sure you have the virtualgl module loaded, if not do</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>module load virtualgl
</code></pre></div></div> <p>Start a program as you normally would but precede the command with vglrun. Some examples:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vglrun visit
vglrun paraview
vglrun /usr/licensed/matlab/bin/matlab
</code></pre></div></div> <h2 id="jupyter-notebook-through-ssh"> <a href="#jupyter-notebook-through-ssh" aria-labelledby="jupyter-notebook-through-ssh" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Jupyter notebook through ssh </h2> <p>Most of the time the data is stored on the server, but itâ€™s a lot more convenient and sometimes faster to analize the results from a personal laptop. For that you can start a jupyter session on a <code class="language-plaintext highlighter-rouge">tigressdata2</code> machine and connect to it through ssh from you personal device and access all the jupyter capabilities from your local browser.</p> <p>For that you would first need a jupyter loaded on <code class="language-plaintext highlighter-rouge">tigressdata2</code>, which is contained in <code class="language-plaintext highlighter-rouge">anaconda</code> package, so run this in terminal</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>module load anaconda
</code></pre></div></div> <p>Then you want to run the following command in any folder you want the jupyter root to be in</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter notebook <span class="nt">--no-browser</span> <span class="nt">--port</span><span class="o">=</span>8889 <span class="nt">--ip</span><span class="o">=</span>127.0.0.2
</code></pre></div></div> <p>Port number and ip could be anything; if a particular value doesnâ€™t work, it may be used by some other process. You may also specify a bash function in your <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> in the following way</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter_run<span class="o">()</span> <span class="o">{</span>
    jupyter notebook <span class="nt">--no-browser</span> <span class="nt">--port</span><span class="o">=</span><span class="nv">$1</span> <span class="nt">--ip</span><span class="o">=</span>127.0.0.2
<span class="o">}</span>
</code></pre></div></div> <p>which you later can use the following way <code class="language-plaintext highlighter-rouge">$ jupyter_run 8889</code>.</p> <p>Now you need to connect to this server from your local laptop through ssh. For that you can simply run the following command in your local terminal</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-N</span> <span class="nt">-L</span> localhost:8889:127.0.0.2:8889 &lt;username&gt;@tigressdata2.princeton.edu
</code></pre></div></div> <p>where <code class="language-plaintext highlighter-rouge">&lt;username&gt;</code> is your <code class="language-plaintext highlighter-rouge">tigressdata2</code> username, and the port number <code class="language-plaintext highlighter-rouge">8889</code> should correspond to the one specified earlier. In the same fashion you can create an alias function in <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.bash_profile</code></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh_jupyter<span class="o">()</span> <span class="o">{</span>
    ssh <span class="nt">-N</span> <span class="nt">-L</span> localhost:<span class="nv">$1</span>:127.0.0.2:<span class="nv">$1</span> &lt;username&gt;@tigressdata2.princeton.edu
<span class="o">}</span>
</code></pre></div></div> <p>and call it later as <code class="language-plaintext highlighter-rouge">ssh_jupyter 8889</code>.</p> <p>You can now access the jupyter notebook via <code class="language-plaintext highlighter-rouge">localhost:8889</code> in your local browser.</p> <h2 id="additional-information"> <a href="#additional-information" aria-labelledby="additional-information" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Additional Information </h2> <p>See instructions <a href="https://researchcomputing.princeton.edu/faq/how-do-i-use-vnc-on-tigre">here</a></p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Website compiled by <a href="https://www.linkedin.com/in/patrick-crumley/">Patrick Crumley</a>. Please feel free to contribute on <a href="https://github.com/pcrumley/ml_stat_resources">GitHub.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
